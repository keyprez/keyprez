import{w as C}from"./index-47c8d7fb.js";import{a3 as O,a4 as k,a5 as S,a6 as T}from"./index-f8865573.js";function w(t){return Object.prototype.toString.call(t)==="[object Date]"}function j(t,n,e,i){if(typeof e=="number"||w(e)){const r=i-e,s=(e-n)/(t.dt||1/60),o=t.opts.stiffness*r,f=t.opts.damping*s,a=(o-f)*t.inv_mass,p=(s+a)*t.dt;return Math.abs(p)<t.opts.precision&&Math.abs(r)<t.opts.precision?i:(t.settled=!1,w(e)?new Date(e.getTime()+p):e+p)}else{if(Array.isArray(e))return e.map((r,s)=>j(t,n[s],e[s],i[s]));if(typeof e=="object"){const r={};for(const s in e)r[s]=j(t,n[s],e[s],i[s]);return r}else throw new Error(`Cannot spring ${typeof e} values`)}}function q(t,n={}){const e=C(t),{stiffness:i=.15,damping:r=.8,precision:s=.01}=n;let o,f,a,p=t,y=t,c=1,h=0,g=!1;function b(d,l={}){y=d;const D=a={};return t==null||l.hard||m.stiffness>=1&&m.damping>=1?(g=!0,o=k(),p=d,e.set(t=y),Promise.resolve()):(l.soft&&(h=1/((l.soft===!0?.5:+l.soft)*60),c=0),f||(o=k(),g=!1,f=S(u=>{if(g)return g=!1,f=null,!1;c=Math.min(c+h,1);const A={inv_mass:c,opts:m,settled:!0,dt:(u-o)*60/1e3},M=j(A,p,t,y);return o=u,p=t,e.set(t=M),A.settled&&(f=null),!A.settled})),new Promise(u=>{f.promise.then(()=>{D===a&&u()})}))}const m={set:b,update:(d,l)=>b(d(y,t),l),subscribe:e.subscribe,stiffness:i,damping:r,precision:s};return m}function E(t,n){if(t===n||t!==t)return()=>t;const e=typeof t;if(e!==typeof n||Array.isArray(t)!==Array.isArray(n))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const i=n.map((r,s)=>E(t[s],r));return r=>i.map(s=>s(r))}if(e==="object"){if(!t||!n)throw new Error("Object cannot be null");if(w(t)&&w(n)){t=t.getTime(),n=n.getTime();const s=n-t;return o=>new Date(t+o*s)}const i=Object.keys(n),r={};return i.forEach(s=>{r[s]=E(t[s],n[s])}),s=>{const o={};return i.forEach(f=>{o[f]=r[f](s)}),o}}if(e==="number"){const i=n-t;return r=>t+r*i}throw new Error(`Cannot interpolate ${e} values`)}function I(t,n={}){const e=C(t);let i,r=t;function s(o,f){if(t==null)return e.set(t=o),Promise.resolve();r=o;let a=i,p=!1,{delay:y=0,duration:c=400,easing:h=T,interpolate:g=E}=O(O({},n),f);if(c===0)return a&&(a.abort(),a=null),e.set(t=r),Promise.resolve();const b=k()+y;let m;return i=S(d=>{if(d<b)return!0;p||(m=g(t,o),typeof c=="function"&&(c=c(t,o)),p=!0),a&&(a.abort(),a=null);const l=d-b;return l>c?(e.set(t=o),!1):(e.set(t=m(h(l/c))),!0)}),i.promise}return{set:s,update:(o,f)=>s(o(r,t),f),subscribe:e.subscribe}}let P=[];{const t=localStorage.getItem("cart");P=t?JSON.parse(t):[]}const J=C(P),z=I(0);J.subscribe(t=>localStorage.setItem("cart",JSON.stringify(t)));export{I as a,J as c,q as s,z as t};
